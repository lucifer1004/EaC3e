<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Finding Concurrency Design Space - Reading Notes</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././css/last-changed.css">
        <link rel="stylesheet" href=".././css/mdbook-admonish.css">

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../index.html">Table of Contents</a></li><li class="chapter-item "><a href="../engineering_a_compiler_third_edition/index.html"><strong aria-hidden="true">1.</strong> Engineering a Compiler (3rd Edition)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../engineering_a_compiler_third_edition/chapter_1.html"><strong aria-hidden="true">1.1.</strong> Overview of Compilation</a></li><li class="chapter-item "><a href="../engineering_a_compiler_third_edition/chapter_2.html"><strong aria-hidden="true">1.2.</strong> Scanners</a></li></ol></li><li class="chapter-item "><a href="../category_theory_for_programmers/index.html"><strong aria-hidden="true">2.</strong> Category Theory for Programmers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../category_theory_for_programmers/chapter_1.html"><strong aria-hidden="true">2.1.</strong> Category: The Essence of Composition</a></li><li class="chapter-item "><a href="../category_theory_for_programmers/chapter_2.html"><strong aria-hidden="true">2.2.</strong> Types and Functions</a></li></ol></li><li class="chapter-item "><a href="../calculus_of_computation/index.html"><strong aria-hidden="true">3.</strong> The Calculus of Computation</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../calculus_of_computation/chapter_1.html"><strong aria-hidden="true">3.1.</strong> Propositional Logic</a></li></ol></li><li class="chapter-item "><a href="../geometric_data_structures_for_computer_graphics/index.html"><strong aria-hidden="true">4.</strong> Geometric Data Structures for Computer Graphics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../geometric_data_structures_for_computer_graphics/chapter_1.html"><strong aria-hidden="true">4.1.</strong> Quadtrees and Octrees</a></li></ol></li><li class="chapter-item expanded "><a href="../patterns_for_parallel_programming/index.html"><strong aria-hidden="true">5.</strong> Patterns for Parallel Programming</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../patterns_for_parallel_programming/chapter_1.html"><strong aria-hidden="true">5.1.</strong> A Pattern Language for Parallel Programming</a></li><li class="chapter-item "><a href="../patterns_for_parallel_programming/chapter_2.html"><strong aria-hidden="true">5.2.</strong> Background and Jargon of Parallel Computing</a></li><li class="chapter-item expanded "><a href="../patterns_for_parallel_programming/chapter_3.html" class="active"><strong aria-hidden="true">5.3.</strong> The Finding Concurrency Design Space</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Reading Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/lucifer1004/computer-book-notes" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-finding-concurrency-design-space"><a class="header" href="#the-finding-concurrency-design-space">The Finding Concurrency Design Space</a></h1>
<ul>
<li><a href="#31-about-the-design-space">3.1 About the Design Space</a>
<ul>
<li><a href="#311-overview">3.1.1 Overview</a></li>
<li><a href="#312-using-the-decomposition-patterns">3.1.2 Using the Decomposition Patterns</a></li>
<li><a href="#313-background-for-examples">3.1.3 Background for Examples</a>
<ul>
<li><a href="#medical-imaging">Medical Imaging</a></li>
<li><a href="#linear-algebra">Linear Algebra</a></li>
<li><a href="#molecular-dynamics">Molecular Dynamics</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#32-the-task-decomposition-pattern">3.2 The Task Decomposition Pattern</a></li>
<li><a href="#33-the-data-decomposition-pattern">3.3 The Data Decomposition Pattern</a></li>
<li><a href="#34-the-group-tasks-pattern">3.4 The Group Tasks Pattern</a></li>
<li><a href="#35-the-order-tasks-pattern">3.5 The Order Tasks Pattern</a></li>
<li><a href="#36-the-data-sharing-pattern">3.6 The Data Sharing Pattern</a></li>
<li><a href="#37-the-design-evaluation-pattern">3.7 The Design Evaluation Pattern</a></li>
<li><a href="#38-summary">3.8 Summary</a></li>
</ul>
<h2 id="31-about-the-design-space"><a class="header" href="#31-about-the-design-space">3.1 About the Design Space</a></h2>
<div id="admonition-quote" class="admonition quote">
<div class="admonition-title">
<p>Quote</p>
<p><a class="admonition-anchor-link" href="#admonition-quote"></a></p>
</div>
<div>
<p>Parallel programs attempt to solve bigger problems in less time by simultaneously solving different parts of the problem on different processing elements. This can only work, however, if the problem contains exploitable concurrency, that is, multiple activities or tasks that can execute at the same time.</p>
</div>
</div>
<h3 id="311-overview"><a class="header" href="#311-overview">3.1.1 Overview</a></h3>
<pre class="mermaid">flowchart LR
    subgraph D[Decomposition]
        direction TB
        TD[Task Decomposition]
        DD[Data Decomposition]
    end

    subgraph DA[Dependency Analysis]
        GT[Group Tasks]&lt;--&gt;OT[Order Tasks]
        OT&lt;--&gt;DS[Data Sharing]
    end

    D&lt;--&gt;DA
    DA&lt;--&gt;DE[Design Evaluation]
</pre>
<h3 id="312-using-the-decomposition-patterns"><a class="header" href="#312-using-the-decomposition-patterns">3.1.2 Using the Decomposition Patterns</a></h3>
<h3 id="313-background-for-examples"><a class="header" href="#313-background-for-examples">3.1.3 Background for Examples</a></h3>
<h4 id="medical-imaging"><a class="header" href="#medical-imaging">Medical Imaging</a></h4>
<p>PET (Positron Emission Tomography)</p>
<ul>
<li>TD: Associating each trajectory with a task</li>
<li>DD: Partition the body into sections</li>
</ul>
<h4 id="linear-algebra"><a class="header" href="#linear-algebra">Linear Algebra</a></h4>
<h4 id="molecular-dynamics"><a class="header" href="#molecular-dynamics">Molecular Dynamics</a></h4>
<p>Pick a distance beyond which the force contribution is so small that it can be ignored.</p>
<h2 id="32-the-task-decomposition-pattern"><a class="header" href="#32-the-task-decomposition-pattern">3.2 The Task Decomposition Pattern</a></h2>
<p>How can a problem be decomposed into tasks that can execute concurrently?</p>
<ul>
<li>A good understanding of the problem being solved.
<ul>
<li>Which are the computationally intensive parts of the problem?</li>
<li>What are the key data structures?</li>
<li>How does the data unfold?</li>
</ul>
</li>
<li>Define the tasks that make up the problem.
<ul>
<li>How do they imply the data decomposition?</li>
</ul>
</li>
</ul>
<p>Design principles:</p>
<ul>
<li>Flexibility</li>
<li>Efficiency</li>
<li>Simplicity</li>
</ul>
<p>Solution: first identify as many tasks as possible and merge them later on.</p>
<p>Where are the tasks?</p>
<ul>
<li>Functional decomposition: a task for each function call.</li>
<li>Loop splitting: map each iteration onto a task.</li>
<li>Decompose a large data structure into individual chunks.</li>
</ul>
<p>The next step will be data decomposition.</p>
<div id="admonition-quote-1" class="admonition quote">
<div class="admonition-title">
<p>Quote</p>
<p><a class="admonition-anchor-link" href="#admonition-quote-1"></a></p>
</div>
<div>
<p>Many problems can be decomposed primarily in terms of data or primarily in terms of tasks. If a task-­based decomposition avoids the need to break up and distribute complex data structures, it will be a much simpler program to write and debug. On the other hand, if memory and/or network bandwidth is a limiting factor, a decomposition that focuses on the data might be more effective.</p>
</div>
</div>
<p>A detailed example (Figure 3.3) is given for molecular dynamics.</p>
<h2 id="33-the-data-decomposition-pattern"><a class="header" href="#33-the-data-decomposition-pattern">3.3 The Data Decomposition Pattern</a></h2>
<p>How can a problem's data be decomposed into units that can be operated on relatively independently?</p>
<p>A data-based decomposition is good if:</p>
<ul>
<li>The most computationally intensive part is organized around the manipulation of a large data structure.</li>
<li>Similar operations are being applied to independent parts of the data structure.</li>
</ul>
<p>For shared-memory environments, the data decomposition is often implied by the task decomposition. But for distributed-memory environments, the data decomposition must be done by hand.</p>
<p>Look at the central data structures, instead of the tasks.</p>
<ul>
<li>There might be some symmetry in the data structure which can be exploited.</li>
<li>In the distributed-memory case, some data can be replicated on each node to save communication.</li>
</ul>
<h2 id="34-the-group-tasks-pattern"><a class="header" href="#34-the-group-tasks-pattern">3.4 The Group Tasks Pattern</a></h2>
<h2 id="35-the-order-tasks-pattern"><a class="header" href="#35-the-order-tasks-pattern">3.5 The Order Tasks Pattern</a></h2>
<h2 id="36-the-data-sharing-pattern"><a class="header" href="#36-the-data-sharing-pattern">3.6 The Data Sharing Pattern</a></h2>
<h2 id="37-the-design-evaluation-pattern"><a class="header" href="#37-the-design-evaluation-pattern">3.7 The Design Evaluation Pattern</a></h2>
<h2 id="38-summary"><a class="header" href="#38-summary">3.8 Summary</a></h2>
<footer id="last-change">Last change: 2022-11-05, commit: <a href="https://github.com/lucifer1004/computer-book-notes/commit/61c3d7b">61c3d7b</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../patterns_for_parallel_programming/chapter_2.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../patterns_for_parallel_programming/chapter_2.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../mermaid.min.js"></script>
        <script type="text/javascript" src="../mermaid-init.js"></script>


    </body>
</html>
